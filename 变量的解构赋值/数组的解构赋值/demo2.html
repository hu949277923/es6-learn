<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script>
        // 默认值 
        // 解构赋值允许指定默认值。
        // demo1
        let [foo = true] =[]
        console.log(foo); // true

        let [x, y = 'b'] = ['a']
        console.log(x, y);

        let [x2, y2 = 'b'] = ['a', undefined];  
        console.log(x2, y2);


        // demo2
        // ES6 内部使用严格相等运算符（===），判断一个位置是否有值。所以，如果一个数组成员不严格等于undefined，默认值是不会生效的。
        let [x3 = 1] = [undefined];
        console.log(x3) // 1

        let [x4 = 1] = [null];
        console.log(x4) // null

        // demo3
        // 如果默认值是一个表达式，那么这个表达式是惰性求值的，即只有在用到的时候，才会求值。
        function func () {
            console.log('a');
            return 'I am func'
        }
        let [x5 = func()] = [];
        console.log(x5); // I am func  如方法无返回值，则返回值为undefined;

        // demo4
        let [x = y, y = 1] = [];
        console.log(x, y); // Uncaught SyntaxError: Identifier 'x' has already been declared
        // 错误原因：x用到默认值y时，y还没有声明
    </script>
</head>
<body>
    
</body>
</html>